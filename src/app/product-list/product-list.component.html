<div class="container">
  <div class="col-md-10 col-md-offset-1 col-xs-12">
    <h4>Trouvez dès maintenant un logement correspondant à vos envies :</h4>
    <div class="panel-group ">
      <div class="he-margin-bottom-40 panel panel-default">
        <div class="row">
          <div class="he-padding-10 col-md-3 col-md-offset-1 col-xs-12">
            <label>Quel arrondissement de Paris ?</label>
            <div class="form-group ">
              <div class="input-group">

                <input [(ngModel)]="filterZipCode"
                       class="form-control  bf-required"
                       placeholder="code postal" type="text"
                />
              </div>
            </div>
          </div>
          <div class="he-padding-10 col-md-3 col-xs-6 ">
            <label>Nombre de personnes :</label>
            <div class="form-group ">
              <div class="input-group">
                              <span class="input-group-addon">
                                <span><i class="fa fa-group"></i>
                                </span></span>
                <input [(ngModel)]="filterMaxGuests"
                       class="form-control"
                       placeholder="nombre de personnes"
                       type="text"
                />
              </div>
            </div>
          </div>
          <div class="he-padding-10 col-md-2 col-xs-6 ">
            <label>Date d'arrivée :</label>
            <div class="input-group date" id="arrivaldate">
              <input class="form-control  bf-required" id="arrivaldate_Input" name="arrivaldate" type="text" value=""/>
              <span class="input-group-addon">
                              <span><i class="glyphicon glyphicon-calendar" id="arrivaldate_icon"></i></span>
                            </span>
            </div>
          </div>
          <div class="he-padding-10 col-md-2 col-xs-6 ">
            <label>Date de départ :</label>
            <div class="input-group date">
              <input class="form-control  bf-required" type="text"/>
              <span class="input-group-addon">
                              <span><i class="glyphicon glyphicon-calendar"></i></span>
                            </span>
            </div>
          </div>
          <div class="he-padding-10 col-md-2 col-md-offset-1 col-xs-6 ">
            <label>Taille minimum (m²):</label>
            <div class="form-group ">
              <div class="input-group">
                              <span class="input-group-addon">
                                <span><i class="fa fa-arrows-alt"></i></span></span>
                <input [(ngModel)]="filterSize"
                       class="form-control"
                       placeholder="taille"
                       type="text"
                />
              </div>
            </div>
          </div>
          <div class="he-padding-10 col-md-3 col-xs-6 ">
            <label>Prix journalier maximum :</label>
            <div class="form-group ">
              <div class="input-group">
                              <span class="input-group-addon">
                                <span><i class="fa fa-calculator"></i></span>
                              </span>
                <input [(ngModel)]="filterDailyRate"
                       class="form-control  bf-required"
                       placeholder="Prix journalier maximum" type="text"
                />
              </div>
            </div>
          </div>
          <div class="he-padding-10 he-top-2-rem col-md-2 col-xs-12 ">
            <label>Animaux autorisés</label>
            <div class="form-group ">
              <div class="checkbox">
                <input [(ngModel)]="filterPetsAuthorized" type="checkbox"/>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="panel-group ">
  <div class="he-panel-main panel panel-default">
    <div class="row">
      <div class="he-padding-top-20 col-md-10 col-md-offset-1 col-xs-12 ">
        <h1>Nos locations</h1>
        <hr/>
      </div>
    </div>
    <ul>
      <ol *ngFor="let product of filteredProducts">
        <div class="row">
          <div class="he-padding-10 col-md-4 col-md-offset-1 col-xs-12 ">
            <div class="he-flex-parent he-flex-overflow-hidden he-top-1-rem">
              <img alt="no picture found" height="280"
                   src="../assets/pictures/homes_pictures/{{product.productPictures[0].picture}}"/>
            </div>
          </div>
          <div class="he-padding-10 col-md-6 col-xs-12 ">
            <div class="row">
              <div class="col-md-12 col-xs-12">
                <h3>
                  {{product.title}}
                </h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 col-xs-12">
                <h4>
                  {{product.description}}
                </h4>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 col-xs-12">
                <h4>
                  <br/>  {{product.property.dailyrate}} EUR par nuitée.
                </h4>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 col-xs-12">
                <ng-template #t let-fill="fill">
                  <span [class.full]="fill === 100" class="star">
                    <span [style.width.%]="fill" class="half">&hearts;</span>&hearts;
                  </span>
                </ng-template>
                <ngb-rating [max]="5" [rate]="getTotalAverage(product.evaluations)" [readonly]="true"
                            [starTemplate]="t"></ngb-rating>
                <hr>
                <pre>Note moyenne : <b>{{getTotalAverage(product.evaluations)}}</b></pre>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="he-txt-right col-md-12 col-xs-12 ">
            <button class="btn btn-default he-btn-14" routerLink="/product/{{product.idProduct}}">Visiter</button>
            <hr/>
          </div>
        </div>
      </ol>
    </ul>
  </div>
  <div class="row">
    <div class="he-padding-top-20 col-md-10 col-md-offset-1 col-xs-12 ">
      <h2>{{message}}</h2>
    </div>
  </div>
</div>
